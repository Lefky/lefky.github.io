<!DOCTYPE html>
<html>
<head>
	<title>Working hours</title>
	<link rel="shortcut icon" type="image/png" href="images/time-png_favicon.png"/>
	<meta name="robots" content="index">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- BOOTSTRAP -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	<script>
		$(document).ready(function(){
		  $('[data-toggle="tooltip"]').tooltip();
		});
	</script>
	
	<!-- Font Awsome -->
	<link href="css/all.min.css" rel="stylesheet">
	<!-- Custom Styles -->
	<link href="css/bootstrap_specific_style.css" rel="stylesheet">
</head>
<body onload="reset(); add_time(7.6);">
<!-- Modal HTML -->
<div id="modalsettings" class="modal fade">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Info</h2>
			</div>
			<div class="modal-body">
				<p>
					Author: <a href="https://www.linkedin.com/in/sennejanssens/" target="_blank">Senne Janssens</a> ( Send me a message with feedback or suggestions ;) )<br>
					Version: <span id="currentappversion">20200120.1</span> <br>
					Release notes: <a href="https://github.com/Lefky/lefky.github.io/commits/master"target="_blank">Check the master branch on Github</a>
				</p>
				<p>
					If you delete your browser data the history will reset. You can export and import your data.<br>
					<a class="modalbutton floatreset" id="exportHistory" onclick="exportHistory()">Export History</a>
					<a class="modalbutton floatreset" id="importHistory">Import History</a>
					<a class="modalbutton floatreset" id="deleteHistory" onclick="deleteHistory()">Delete History</a>
					<input type="file" id="importFile" accept=".json" style="display:none"/>	
				</p>
				<p>Set this page as your browser startup page or pin the tab to automatically start counting when you open your browser.</p>
				<p>Hitting "ENTER" will add the time corresponding to the selected value next to 'Overtime' to the end date (and break time if defined).</p>
				<h3>Parameters</h3>
				<p>The value settings are saved. So if you enable something it will still be enabled on the next opening of the page.</p>
				<p>
					<i>"Don't save today."</i><br>
					&emsp;won't save today's date for the remainder of the day (until timestamp 00:00) or unless disabled again.
				</p>
				<p>
					<i>"Automatically set end time on close."</i><br>
					&emsp;will change the end time to the timestamp on which you close or refresh the window and thus overwrite any manual changes you made.<br>
				</p>
				<p>
					<i>"Subtract 5 min from time on open."</i><br>
					&emsp;will subtract 5 min from the time the page was opened (and the start time). This is to take the time to boot your laptop, ... into account.
				</p>
				
				<form>
					<div class="form-group">
						<div class="input-group my-3">
							<input type="radio" name="historydeleteoption" id="historydeleteoptiondays" class="form-control col-sm-2 mx-1" value="days" onchange="greyOutHistoryDeleteOption()" checked="checked" data-toggle="tooltip" data-placement="right" title="This will keep XXX days of data.">
							<label for="historydeleteoptiondays" id="historydeleteoptiondayslabel" data-toggle="tooltip" data-placement="right" title="This will keep XXX days of data.">Max days to keep history: </label>
							<input type="number" name="historyretain" id="historyretain" class="form-control col-sm-2 mx-1" min="0" max="999">
						</div>
					</div>
					<div class="form-group">
						<div class="input-group my-3">
							<input type="radio" name="historydeleteoption" id="historydeleteoptionperiod" class="form-control col-sm-2" value="period" onchange="greyOutHistoryDeleteOption()" data-toggle="tooltip" data-placement="right" title="This will delete the entire history on the day that's displayed next to 'Reset date'.">
							<label for="historydeleteoptionperiod" id="historydeleteoptionperiodlabel" data-toggle="tooltip" data-placement="right" title="This will delete the entire history on the day that's displayed next to 'Reset date'.">Reset history on day </label>
							<input type="number" name="historyresetday" id="historyresetday" class="form-control col-sm-2 mx-1" min="1" max="31" onchange="maxValuesDeleteOption()"> of every 
							<input type="number" name="historyresetperiod" id="historyresetperiod" class="form-control col-sm-2 mx-1" min="1" onchange="maxValuesDeleteOption()">
							<select name="historyresetperiodunit" id="historyresetperiodunit" class="form-control col-sm-2 mx-1" onchange="maxValuesDeleteOption()">
								<option value="days">days</option>
								<option value="weeks">weeks</option>
								<option value="months">months</option>
							</select>
							<button type="button" id="modalsavebutton" class="btn btn-secondary" onclick="saveCleaningDay()">Save</button>
						</div>
						<div class="input-group my-3">
							<label for="resetdate" id="resetdatelabel" style="margin-left: 21px;">Reset date: </label>
							<input type="text" name="resetdate" id="resetdate" class="form-control col-sm-2 mx-1" size="20" readonly>
						</div>
					</div>
				</form>
				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<div style="top: 0; left: 0; width:100%; height:100%; display: table; position: absolute;">
	<div align="center" style="max-width: 50%; display: table-cell; vertical-align: middle; margin: 0 5px;">
		<div class="alert slide-in" id="alertnotification" style="display: none;">
			<span class="alertclosebtn" onclick="notificationClosed('click');">&times;</span> 
			<table>
				<tr>
					<td style="width:15%; text-align: right; padding: 2% 1% 1% 2%;">
						<i class="far fa-exclamation-triangle fa-4x pulsate" style="color: orange;"></i>
					</td>
					<td style="width:75%; text-align: left; padding: 2% 1% 1% 2%;">
						This notification bar will now only appear when a new version is released! AND you can make it disappear until the next version allowing you to have a screen that looks cleaner :)<br><br><br>
						You can now have the history completely reset every X days/weeks/month on the Nth day.<br>
						Find it in the <i class="fas fa-info-circle" style="color:white"></i> panel.
					</td>
				</tr>
			</table>
		</div>
	</div>
</div>

<div class="container-fluid">
	<div class="row">
		<div class="col col-sm-2 bg-light"></div>
		<div class="col col-sm-4 rounded-right bg-light text-right">
			<form>
				<div class="form-group">
					
					<div class="row">
						<div class="col">
							<div class="input-group my-1">
								<label for="start_time" data-toggle="tooltip" data-placement="left" title="Your start time is entered automatically based on the time of opening this window, but you can make adjustments. Set this page as your starting page when opening your browser to make it easy for yourself.">Start time : </label>
								<input name="start_time" id="start_time" type="time" class="form-control col-sm-2 mx-1" onchange="calculateTotal();"/>
							</div>
						</div>
					</div>
					
					<div class="input-group my-3">
						<label for="break_time" data-toggle="tooltip" data-placement="left" title="Choose a default break you take every day. Eg: You're deducted 30 min every day. This value will be saved for the next time the window is opened.You can enter a seperate value manually or by using the buttons too.">
							Break (default
						</label>
						<select name="break_time_default" id="break_time_default" class="form-control col-sm-2 mx-1" onchange="addBreakDefault();">
							<option value="0">0 min</option>
							<option value="0.25">15 min</option>
							<option value="0.5">30 min</option>
							<option value="0.75">45 min</option>
							<option value="1">1h</option>
						</select>) : 				
						<input name="break_time" id="break_time" type="time" value="00:00" class="form-control col-sm-2 mx-1" onchange="calculateTotal();"/>
					</div>
					<div class="input-group my-3">
						<label for="end_time" data-toggle="tooltip" data-placement="left" title="You can have this automatically filled in by setting the parameter at the bottom of the box. You can manually enter a value.">Time to go home : </label>
						<input name="end_time" id="end_time" type="time" class="form-control col-sm-2 mx-1" onchange="calculateTotal();"/>
					</div>
					<div class="input-group my-3">
						<label for="totalnobreak" data-toggle="tooltip" data-placement="left" title="These hours are your actual working hours.">Total hours (no break) : </label>
						<input name="totalnobreak" id="totalnobreak" type="time" class="form-control col-sm-2 mx-1" value="" readonly> <input name="totalnobreakdec" id="totalnobreakdec" type="text" class="form-control col-sm-2 mx-1" readonly>
					</div>
					<div class="input-group my-3">
						<label for="overtime" data-toggle="tooltip" data-placement="left" title="Select howmany hours you need to perform on avarage each day. The application will calculate howmuch overtime you built up / used today.">
							Overtime@
						</label>
						<select name="hourschedule" id="hourschedule" class="form-control col-sm-2 mx-1" onchange="calculateTotal();">
							<option value="7.6">7,6h</option>
							<option value="8">8h</option>
						</select>: 
						<input name="overtime" id="overtime" type="text" class="form-control col-sm-2 mx-1" readonly> <input name="overtimedec" id="overtimedec" type="text" class="form-control col-sm-2 mx-1" readonly>
					</div>
					<div class="input-group my-3">
						<label for="total" data-toggle="tooltip" data-placement="left" title="These hours are howmuch time you spent being at your workplace.">Total hours : </label>
						<input name="total" id="total" type="time" class="form-control col-sm-2 mx-1" readonly><input name="totaldec" id="totaldec" type="text" class="form-control col-sm-2 mx-1" readonly>
					</div>
					<div class="input-group my-3">
						<label for="overtimetotal" data-toggle="tooltip" data-placement="left" title="Here you can find howmuch overtime you've built up / used during the period you defined in the 'Info' box. This value doesn't include today yet.">Total overtime : </label>
						<input name="overtimetotal" id="overtimetotal" type="text" class="form-control col-sm-2 mx-1" readonly>
					</div>
					
					<div id="historycontainer" class="my-3">
						<div id="history" ></div>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<div class="input-group">
						<div class="custom-control custom-switch mx-1">
							<input type="checkbox" class="custom-control-input" id="nosave">
							<label class="custom-control-label font-sm checkred" for="nosave">Don't save today</label>
						</div>
						<div class="custom-control custom-switch mx-1">
							<input type="checkbox" class="custom-control-input" id="autoend">
							<label class="custom-control-label font-sm" for="autoend">Automatically set end time on close</label>
						</div>
						<div class="custom-control custom-switch mx-1">
							<input type="checkbox" class="custom-control-input" id="startmin5">
							<label class="custom-control-label font-sm" for="startmin5">Subtract 5 min from open</label>
						</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="col col-sm-4">	
			<div class="row">
				<div class="col col-sm-1"></div>
				<div class="col my-3">
					<button type="button" class="btn btn-lg btn-success" id="add_time_76()" onclick="add_time(7.6)"><i class="fal fa-plus"></i> 7,6h</button>
					<button type="button" class="btn btn-lg btn-success" onclick="add_time(8)"><i class="fal fa-plus"></i> 8h</button>
					<button type="button" class="btn btn-lg btn-success" onclick="end_time()">End time now</button>
				</div>
			</div>
			<div class="row">
				<div class="col col-sm-1"></div>
				<div class="col my-3">
					Break<br>
					<button type="button" class="btn btn-lg btn-primary" id="add_time_76()" onclick="reset_break()"><i class="fal fa-redo"></i></button>
					<button type="button" class="btn btn-lg btn-primary" onclick="add_time(8)"><i class="add_break(0.096666666666666666666666666666666666666666666666666666666666666666666666666666666666666666)"></i> 5min</button>
					<button type="button" class="btn btn-lg btn-primary" onclick="add_break(0.5)"><i class="fal fa-plus"></i> 30min</button>
				</div>
			</div>
			<div class="row">
				<div class="col col-sm-1"></div>
				<div class="col my-3">
					<button type="button" class="btn btn-lg btn-danger" onclick="reset()"><i class="fal fa-redo"></i></button>
				</div>
			</div>
		</div>
		<div class="col col-sm-2"></div>
	</div>
</div>

<div class="container-fluid fixed-bottom px-3 py-1">
    <div class="row">
		<div class="col">
			Senne Janssens (C) 2020
		</div>
		<button type="button" class="btn" data-toggle="modal" data-target="#modalsettings">
			<i class="fas fa-info-circle pulsate"></i>
		</button>
	</div>
</div>
</body>
<!-- Moment.js -->
<script src="js/moment.min.js"></script><!-- https://momentjs.com/docs -->
<script>
	moment().format();
</script>
<script src="js/javascript.js"></script>
</html>